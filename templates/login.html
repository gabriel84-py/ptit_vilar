<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Connexion ‚Äî Journal du lyc√©e</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #2f2a39;
        --card: #342f40;
        --text: #eceaf3;
        --muted: #b8b4c6;
        --brand: #8e7cf8;
        --brand-2: #6c63ff;
        --radius: 26px; /* + */
        --shadow: 0 40px 100px rgba(10, 10, 20, 0.55); /* + */
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
      }
      body {
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        background: radial-gradient(
            1100px 700px at 15% 15%,
            #3b3650 0%,
            transparent 60%
          ),
          radial-gradient(1100px 700px at 85% 85%, #2a2537 0%, transparent 60%),
          linear-gradient(180deg, #2a2435, #201c27 60%, #1a1620);
        color: var(--text);
        display: grid;
        place-items: center;
        padding: 32px; /* + */
        overflow: hidden;
      }
      body::before {
        content: "";
        position: fixed;
        inset: -30%;
        background: conic-gradient(
          from 0deg at 50% 50%,
          rgba(142, 124, 248, 0.28),
          rgba(108, 99, 255, 0.24),
          transparent 40%,
          rgba(142, 124, 248, 0.28)
        );
        filter: blur(80px) saturate(120%); /* + */
        animation: spin 28s linear infinite;
        pointer-events: none;
        opacity: 0.6;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* ====== Carte principale agrandie ====== */
      .shell {
        width: min(1240px, 96vw); /* + plus large */
        display: grid;
        grid-template-columns: 1.08fr 0.92fr; /* + un poil plus de place au visuel */
        gap: 0;
        border-radius: var(--radius);
        background: linear-gradient(180deg, #3a3347, #312c3b);
        box-shadow: var(--shadow);
        position: relative;
        isolation: isolate;
        min-height: 640px; /* + hauteur */
      }
      .shell::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        pointer-events: none;
        padding: 1px;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.12),
          rgba(142, 124, 248, 0.35),
          rgba(255, 255, 255, 0.05)
        );
        -webkit-mask: linear-gradient(#000 0 0) content-box,
          linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0.6;
      }

      .media {
        position: relative;
        overflow: hidden;
        border-top-left-radius: var(--radius);
        border-bottom-left-radius: var(--radius);
        min-height: 640px; /* + */
        background: #15121b;
      }
      .brand {
        position: absolute;
        inset: 22px auto auto 26px;
        z-index: 2;
        font-weight: 800;
        letter-spacing: 0.5px;
        font-size: 20px;
        color: #fff;
        opacity: 0.95;
      }
      .backbtn {
        position: absolute;
        inset: 22px 22px auto auto;
        z-index: 2;
        text-decoration: none;
        color: #12121a;
        font-weight: 600;
        background: #fff;
        padding: 10px 14px;
        border-radius: 999px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        opacity: 0.92;
        transition: transform 0.15s ease;
      }
      .backbtn:hover {
        transform: translateY(-1px);
      }
      .carousel {
        position: absolute;
        inset: 0;
      }
      .slide {
        position: absolute;
        inset: 0;
        opacity: 0;
        transform: scale(1.02);
        transition: opacity 0.7s ease, transform 0.7s ease;
      }
      .slide.active {
        opacity: 1;
        transform: scale(1);
      }
      .slide img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: contrast(1.05) saturate(1.05);
      }
      .caption {
        position: absolute;
        left: 32px;
        bottom: 28px;
        color: #fff;
        font-size: 22px;
        font-weight: 700;
        text-shadow: 0 6px 26px rgba(0, 0, 0, 0.7);
      }
      .dots {
        position: absolute;
        left: 32px;
        bottom: 22px;
        transform: translateY(28px);
        display: flex;
        gap: 10px;
      }
      .dot {
        width: 28px;
        height: 6px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.38);
        cursor: pointer;
        transition: all 0.25s ease;
      }
      .dot.active {
        background: linear-gradient(90deg, var(--brand), var(--brand-2));
        width: 44px;
      }

      /* ====== Colonne connexion : plus spacieuse ====== */
      .panel {
        padding: 64px 56px; /* ++ espace interne */
        background: linear-gradient(180deg, #3f3950, #2f2a39 65%, #2b2533);
        border-top-right-radius: var(--radius);
        border-bottom-right-radius: var(--radius);
        display: grid;
        align-content: start;
        gap: 18px; /* + */
      }
      .panel h1 {
        font-size: 36px;
        line-height: 1.08;
        margin-bottom: 8px;
        font-weight: 800;
      }
      .panel .muted {
        color: var(--muted);
        font-size: 15px;
        margin-bottom: 8px;
      }

      form {
        display: grid;
        gap: 18px; /* ++ espacement entre champs/bouton */
      }
      .field {
        position: relative;
      }
      .field input {
        width: 100%;
        padding: 16px 48px 16px 16px; /* + */
        background: #2a2433;
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: var(--text);
        border-radius: 16px;
        outline: 0;
        transition: border-color 0.2s, box-shadow 0.2s;
      }
      .field input::placeholder {
        color: #a6a1b6;
      }
      .field input:focus {
        border-color: rgba(142, 124, 248, 0.85);
        box-shadow: 0 0 0 6px rgba(142, 124, 248, 0.22);
      }
      .eye {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        background: transparent;
        border: 0;
        color: #cfcbe2;
        cursor: pointer;
        font-size: 18px;
      }

      .primary {
        margin-top: 6px;
        padding: 16px 18px; /* + */
        border: 0;
        border-radius: 16px;
        cursor: pointer;
        font-weight: 800;
        font-size: 17px;
        letter-spacing: 0.2px;
        color: #13131a;
        background: linear-gradient(135deg, var(--brand), var(--brand-2));
        box-shadow: 0 22px 56px rgba(110, 98, 255, 0.35),
          inset 0 -2px 6px rgba(0, 0, 0, 0.25);
        transition: transform 0.15s ease, filter 0.2s ease;
      }
      .primary:hover {
        transform: translateY(-2px);
        filter: saturate(1.05);
      }

      .links {
        display: flex;
        justify-content: flex-start;
        margin-top: 10px;
      }
      .links a {
        color: var(--muted);
        text-decoration: none;
        font-size: 14.5px;
      }
      .links a:hover {
        color: #fff;
        text-decoration: underline;
      }

      @media (max-width: 980px) {
        .shell {
          grid-template-columns: 1fr;
          width: min(96vw, 760px);
          min-height: unset;
        }
        .media {
          border-radius: var(--radius) var(--radius) 0 0;
          min-height: 300px;
        }
        .panel {
          border-radius: 0 0 var(--radius) var(--radius);
          padding: 40px 28px;
        }
      }
    </style>
  </head>
  <body>
    <main class="shell" role="main">
      <section class="media">
        <div class="brand">AMU</div>
        <a class="backbtn" href="{{ request.url_for('home') }}"
          >Retour au site ‚Üí</a
        >
        <div class="carousel" id="carousel">
          <figure class="slide active">
            <img src="/static/photo.png" alt="Dune d√©sert au cr√©puscule" />
            <figcaption class="caption">
              Capturer l'instant, cr√©er des souvenirs
            </figcaption>
          </figure>
          <figure class="slide">
            <img src="/static/hand.png" alt="Sport scolaire" />
            <figcaption class="caption">
              Vie du lyc√©e, clubs & √©v√©nements
            </figcaption>
          </figure>
          <figure class="slide">
            <img src="/static/debat.png" alt="D√©bat √©cologie" />
            <figcaption class="caption">
              Actus, d√©bats, reportages des √©l√®ves
            </figcaption>
          </figure>
        </div>
        <div class="dots" id="dots"></div>
      </section>

      <aside class="panel">
        <h1>Se connecter</h1>
        <p class="muted">Veuillez saisir vos identifiants pour continuer</p>
        <form action="/login/check" method="post" autocomplete="off">
          <label class="field">
            <input type="email" name="email" placeholder="Email" required />
          </label>
          <label class="field">
            <input
              id="pwd"
              type="password"
              name="password"
              placeholder="Mot de passe"
              required
            />
            <button class="eye" type="button" id="togglePwd">üëÅÔ∏è</button>
          </label>
          <button class="primary" type="submit">Connexion</button>
          <div class="links">
            <a href="#">Mot de passe oubli√© ?</a>
          </div>
        </form>
      </aside>
    </main>

    <script>
      const slides = [...document.querySelectorAll(".slide")];
      const dotsWrap = document.getElementById("dots");
      let index = 0,
        timer;
      function renderDots() {
        dotsWrap.innerHTML = slides
          .map(
            (_, i) => `<button class="dot${i === 0 ? " active" : ""}"></button>`
          )
          .join("");
        [...dotsWrap.children].forEach((d, i) =>
          d.addEventListener("click", () => go(i))
        );
      }
      function go(i) {
        slides[index].classList.remove("active");
        dotsWrap.children[index].classList.remove("active");
        index = (i + slides.length) % slides.length;
        slides[index].classList.add("active");
        dotsWrap.children[index].classList.add("active");
        restart();
      }
      function next() {
        go(index + 1);
      }
      function start() {
        timer = setInterval(next, 4500);
      }
      function stop() {
        clearInterval(timer);
      }
      function restart() {
        stop();
        start();
      }
      renderDots();
      start();
      document
        .getElementById("carousel")
        .addEventListener("pointerenter", stop);
      document
        .getElementById("carousel")
        .addEventListener("pointerleave", start);

      const togglePwd = document.getElementById("togglePwd");
      const pwd = document.getElementById("pwd");
      togglePwd.addEventListener("click", () => {
        pwd.type = pwd.type === "password" ? "text" : "password";
      });
    </script>
  </body>
</html>
