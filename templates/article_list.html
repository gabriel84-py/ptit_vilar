<!-- 
====== Développé par TEAM LogicPulse ======
| YouTube :                               |
| Discord : https://discord.gg/efVfp5A89k |
| Instagram : @team_LogicPulse            |
===========================================  
-->

<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <!-- Responsive : viewport mobile/desktop -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Articles — Journal du lycée</title>

    <!-- Police Inter (maquette) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>

  <!-- CSS dédié à CETTE page -->
  <link rel="stylesheet" href="/static/article_list.css" />
  <link rel="stylesheet" href="/static/fixe_header.css" />

  <body>
    <!-- Barre supérieure -->
    <header class="container header" role="banner">
      <a class="brand" href="/">Journal du lycée</a>

      <nav class="nav" aria-label="Navigation principale">
        <a
          class="nav-link {% if request.url.path == '/' %}is-active{% endif %}"
          href="/"
        >
          Accueil
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>

        <a
          class="nav-link {% if request.url.path.startswith('/categories') %}is-active{% endif %}"
          href="/categories"
        >
          Rubriques
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>

        {% if request.state.user %}
        <a
          class="nav-link {% if request.url.path.startswith('/admin') %}is-active{% endif %}"
          href="/admin"
        >
          Admin Panel
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>
        <a class="nav-link" href="/login/logout">
          Déconnexion
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>
        {% else %}
        <a
          class="nav-link {% if request.url.path.startswith('/login') %}is-active{% endif %}"
          href="/login"
        >
          Connexion
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>
        {% endif %}
      </nav>
    </header>

    <div class="container">
      <h1>Tous les articles</h1>

      <ul class="articles-grid">
        {% for article in articles %}

        <li>
          <article class="card">
            <a
              class="card-media"
              href="/articles/{{ article.id }}"
              aria-label="Lire : {{ article.title }}"
            >
              <img
                src="{{ article.image_url }}"
                alt="{{ article.title }}"
                loading="lazy"
              />
            </a>
            <div class="card-body">
              <h3 class="card-title">
                <a href="/articles/{{ article.id }}">{{ article.title }}</a>
              </h3>
              <p class="card-excerpt">{{ article.subtitle }}</p>
              <p class="card-meta">
                {{ article.created_at.strftime("%d/%m/%Y") }} • {{
                article.category }}
              </p>
            </div>
          </article>
        </li>

        {% endfor %}
      </ul>
    </div>

    <footer class="container footer" role="contentinfo">
      <div>© Journal du lycée Jean VILAR — Tous droits réservés</div>
      <div class="by">© Made by Team LogicPulse</div>
    </footer>
  </body>
</html>
