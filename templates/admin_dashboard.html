<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Dashboard Admin</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <!-- CSS dédié à CETTE page -->
    <link rel="stylesheet" href="/static/admin-dashboard.css" />
    <link rel="stylesheet" href="/static/fixe_header.css" />
  </head>
  <body>
    <!-- Barre supérieure -->
    <header class="container header" role="banner">
      <a class="brand" href="/">Journal du lycée</a>

      <nav class="nav" aria-label="Navigation principale">
        <a
          class="nav-link {% if request.url.path == '/' %}is-active{% endif %}"
          href="/"
        >
          Accueil
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>

        <a
          class="nav-link {% if request.url.path.startswith('/categories') %}is-active{% endif %}"
          href="/categories"
        >
          Rubriques
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>

        {% if request.state.user %}
        <a
          class="nav-link {% if request.url.path.startswith('/admin') %}is-active{% endif %}"
          href="/admin"
        >
          Admin Panel
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>
        <a class="nav-link" href="/login/logout">
          Déconnexion
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>
        {% else %}
        <a
          class="nav-link {% if request.url.path.startswith('/login') %}is-active{% endif %}"
          href="/login"
        >
          Connexion
          <svg
            class="nav-ring"
            aria-hidden="true"
            focusable="false"
            viewBox="0 0 100 40"
            preserveAspectRatio="none"
          >
            <path
              class="nav-ring__stroke"
              pathLength="100"
              d="M50,1.5 H78.5 A18.5,18.5 0 0 1 78.5,38.5 H21.5 A18.5,18.5 0 0 1 21.5,1.5 H50 Z"
            />
          </svg>
        </a>
        {% endif %}
      </nav>
    </header>

    <div class="main">
      <h1>Bienvenue sur ton dashboard !</h1>

      <section class="cards">
        <!-- 1) Grand bloc 2×2 en haut à gauche -->
        <div class="card card--hero" style="--w: 2; --h: 2">
          <h2 class="card__title">Gérer les articles</h2>

          <p class="card__desc">
            Rédigez, mettez à jour et planifiez vos publications. Gérez les
            brouillons, catégories et images, avec aperçu en direct et
            publication programmée.
          </p>

          <a class="btn btn-hero" href="/admin/articles">Ouvrir</a>
        </div>

        <!-- 2) Carte 1×1 à droite du grand bloc -->
        <div class="card" style="--w: 1; --h: 1">
          <h3>Créer un utilisateur</h3>
          <p>Ajoute un nouvel utilisateur.</p>
          <a class="btn btn-hero" href="/admin/create_user">Créer</a>
        </div>

        <!-- 3) Carte 1×1 (début de la 2e ligne, colonne 3 déjà prise par la précédente si 2×2) -->
        <div class="card" style="--w: 1; --h: 1">
          <h3>Voir tous les utilisateurs</h3>
          <p>Liste complète.</p>
          <a class="btn btn-hero" href="/admin/users">Voir</a>
        </div>

        <!-- 4) Carte 1×1 -->
        <div class="card" style="--w: 1; --h: 1">
          <h3>Supprimer un utilisateur</h3>
          <p>Via son email.</p>
          <a class="btn btn-hero" href="/admin/delete_user">Gérer</a>
        </div>

        <!-- 5) Carte 1×1 -->
        <div class="card" style="--w: 1; --h: 1">
          <h2>Visiteurs</h2>
          <p style="font-size: 2rem; margin: 0.5rem 0 0">
            {{ total_visitors }}
          </p>
        </div>

        <!-- 6) Carte 1×1 -->
        <div class="card" style="--w: 1; --h: 1">
          <h3>Se déconnecter</h3>
          <p>Pour plus de sécurité.</p>
          <a class="btn btn-hero" href="/login/logout">Déconnexion</a>
        </div>

        <!-- (Optionnel) 7) Une carte plein large (3 colonnes × 1 ligne) sous la grille 3×2 -->
        <div class="card" style="--w: 3; --h: 1">
          <h3>Retour au site</h3>
          <p>Quand vous voulez voir votre beau boulot.</p>
          <a class="btn btn-hero" href="/">Retour</a>
        </div>
      </section>
    </div>

    <footer class="container footer" role="contentinfo">
      <div>© Journal du lycée Jean VILAR — Tous droits réservés</div>
      <div class="by">© Made by Team LogicPulse</div>
    </footer>
  </body>
</html>
